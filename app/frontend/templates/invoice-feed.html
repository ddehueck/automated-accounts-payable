{% extends "components/simple-base.html" %}

{% from "components/invoices/card.html" import invoice_card %}
{% from "components/invoices/single-view.html" import single_invoice_view %}
  
{% block head %}
  <title>Invoice Feed</title>
  {{ super() }}
{% endblock %}

{% block content %}

<main class="flex" x-data="{index: null}">
    <h1>{{test_var}}</h1>
    <!-- Invoice Feed Column -->
    <div class="w-1/3 h-screen p-8 bg-gray-50 border-r-2 border-gray-200">
        <h2 class="font-extrabold text-3xl mb-5">Upcoming Invoices</h2>

        {% for data in invoices %}
            <div class="mt-5" x-on:click="index = {{loop.index}}">
                {{ invoice_card(data) }}
            </div>
        {% endfor %}

    </div>
    
    <!-- Single Item View-->
    <div class="w-2/3 h-screen">
        <div x-show="index == null">
            <h1>Nothing To show.</h1>
        </div>
        <div x-show="index != null">
            {% for data in invoices %}
            <div class="m-8" x-show="index == {{loop.index}}">
                {{ single_invoice_view(data)}}
            </div>
            {% endfor %}
        </div>
    </div> 
</main>
{% endblock %}